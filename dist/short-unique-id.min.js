"use strict";var ShortUniqueId=(()=>{var d=Object.defineProperty;var U=Object.getOwnPropertyDescriptor;var I=Object.getOwnPropertyNames,g=Object.getOwnPropertySymbols;var m=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var b=(n,t,i)=>t in n?d(n,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[t]=i,_=(n,t)=>{for(var i in t||(t={}))m.call(t,i)&&b(n,i,t[i]);if(g)for(var i of g(t))D.call(t,i)&&b(n,i,t[i]);return n};var w=(n,t)=>{for(var i in t)d(n,i,{get:t[i],enumerable:!0})},q=(n,t,i,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of I(t))!m.call(n,s)&&s!==i&&d(n,s,{get:()=>t[s],enumerable:!(e=U(t,s))||e.enumerable});return n};var y=n=>q(d({},"__esModule",{value:!0}),n);var $={};w($,{DEFAULT_UUID_LENGTH:()=>l,default:()=>u});var f="4.4.4";var l=6,S={dictionary:"alphanum",shuffle:!0,debug:!1,length:l,counter:0},c=class{constructor(t={}){this.dictIndex=0;this.dictRange=[];this.lowerBound=0;this.upperBound=0;this.dictLength=0;this._digit_first_ascii=48;this._digit_last_ascii=58;this._alpha_lower_first_ascii=97;this._alpha_lower_last_ascii=123;this._hex_last_ascii=103;this._alpha_upper_first_ascii=65;this._alpha_upper_last_ascii=91;this._number_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii]};this._alpha_dict_ranges={lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]};this._alpha_lower_dict_ranges={lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]};this._alpha_upper_dict_ranges={upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]};this._alphanum_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]};this._alphanum_lower_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]};this._alphanum_upper_dict_ranges={digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]};this._hex_dict_ranges={decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]};this._dict_ranges={_number_dict_ranges:this._number_dict_ranges,_alpha_dict_ranges:this._alpha_dict_ranges,_alpha_lower_dict_ranges:this._alpha_lower_dict_ranges,_alpha_upper_dict_ranges:this._alpha_upper_dict_ranges,_alphanum_dict_ranges:this._alphanum_dict_ranges,_alphanum_lower_dict_ranges:this._alphanum_lower_dict_ranges,_alphanum_upper_dict_ranges:this._alphanum_upper_dict_ranges,_hex_dict_ranges:this._hex_dict_ranges};this.log=(...t)=>{let i=[...t];if(i[0]=`[short-unique-id] ${t[0]}`,this.debug===!0&&typeof console<"u"&&console!==null)return console.log(...i)};this.setDictionary=(t,i)=>{let e;if(t&&Array.isArray(t)&&t.length>1)e=t;else{e=[];let s;this.dictIndex=s=0;let a=`_${t}_dict_ranges`,r=this._dict_ranges[a];Object.keys(r).forEach(o=>{let p=o;for(this.dictRange=r[p],this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1],this.dictIndex=s=this.lowerBound;this.lowerBound<=this.upperBound?s<this.upperBound:s>this.upperBound;this.dictIndex=this.lowerBound<=this.upperBound?s+=1:s-=1)e.push(String.fromCharCode(this.dictIndex))})}i&&(e=e.sort(()=>Math.random()-.5)),this.dict=e,this.dictLength=this.dict.length,this.setCounter(0)};this.seq=()=>this.sequentialUUID();this.sequentialUUID=()=>{let t,i,e="";t=this.counter;do i=t%this.dictLength,t=Math.trunc(t/this.dictLength),e+=this.dict[i];while(t!==0);return this.counter+=1,e};this.rnd=(t=this.uuidLength||l)=>this.randomUUID(t);this.randomUUID=(t=this.uuidLength||l)=>{let i,e,s;if(t===null||typeof t>"u"||t<1)throw new Error("Invalid UUID Length Provided");let a=t>=0;for(i="",s=0;s<t;s+=1)e=parseInt((Math.random()*this.dictLength).toFixed(0),10)%this.dictLength,i+=this.dict[e];return i};this.fmt=(t,i)=>this.formattedUUID(t,i);this.formattedUUID=(t,i)=>{let e={$r:this.randomUUID,$s:this.sequentialUUID,$t:this.stamp};return t.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,a=>{let r=a.slice(0,2),o=parseInt(a.slice(2),10);return r==="$s"?e[r]().padStart(o,"0"):r==="$t"&&i?e[r](o,i):e[r](o)})};this.availableUUIDs=(t=this.uuidLength)=>parseFloat(Math.pow([...new Set(this.dict)].length,t).toFixed(0));this.approxMaxBeforeCollision=(t=this.availableUUIDs(this.uuidLength))=>parseFloat(Math.sqrt(Math.PI/2*t).toFixed(20));this.collisionProbability=(t=this.availableUUIDs(this.uuidLength),i=this.uuidLength)=>parseFloat((this.approxMaxBeforeCollision(t)/this.availableUUIDs(i)).toFixed(20));this.uniqueness=(t=this.availableUUIDs(this.uuidLength))=>{let i=parseFloat((1-this.approxMaxBeforeCollision(t)/t).toFixed(20));return i>1?1:i<0?0:i};this.getVersion=()=>this.version;this.stamp=(t,i)=>{let e=Math.floor(+(i||new Date)/1e3).toString(16);if(typeof t=="number"&&t===0)return e;if(typeof t!="number"||t<10)throw new Error(["Param finalLength must be a number greater than or equal to 10,","or 0 if you want the raw hexadecimal timestamp"].join(`
`));let s=t-9,a=Math.round(Math.random()*(s>15?15:s)),r=this.randomUUID(s);return`${r.substring(0,a)}${e}${r.substring(a)}${a.toString(16)}`};this.parseStamp=(t,i)=>{if(i&&!/t0|t[1-9]\d{1,}/.test(i))throw new Error("Cannot extract date from a formated UUID with no timestamp in the format");let e=i?i.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,a=>{let r={$r:h=>[...Array(h)].map(()=>"r").join(""),$s:h=>[...Array(h)].map(()=>"s").join(""),$t:h=>[...Array(h)].map(()=>"t").join("")},o=a.slice(0,2),p=parseInt(a.slice(2),10);return r[o](p)}).replace(/^(.*?)(t{8,})(.*)$/g,(a,r,o)=>t.substring(r.length,r.length+o.length)):t;if(e.length===8)return new Date(parseInt(e,16)*1e3);if(e.length<10)throw new Error("Stamp length invalid");let s=parseInt(e.substring(e.length-1),16);return new Date(parseInt(e.substring(s,s+8),16)*1e3)};this.setCounter=t=>{this.counter=t};let i=_(_({},S),t);this.counter=0,this.debug=!1,this.dict=[],this.version=f;let{dictionary:e,shuffle:s,length:a,counter:r}=i;return this.uuidLength=a,this.setDictionary(e,s),this.setCounter(r),this.debug=i.debug,this.log(this.dict),this.log(`Generator instantiated with Dictionary Size ${this.dictLength} and counter set to ${this.counter}`),this.log=this.log.bind(this),this.setDictionary=this.setDictionary.bind(this),this.setCounter=this.setCounter.bind(this),this.seq=this.seq.bind(this),this.sequentialUUID=this.sequentialUUID.bind(this),this.rnd=this.rnd.bind(this),this.randomUUID=this.randomUUID.bind(this),this.fmt=this.fmt.bind(this),this.formattedUUID=this.formattedUUID.bind(this),this.availableUUIDs=this.availableUUIDs.bind(this),this.approxMaxBeforeCollision=this.approxMaxBeforeCollision.bind(this),this.collisionProbability=this.collisionProbability.bind(this),this.uniqueness=this.uniqueness.bind(this),this.getVersion=this.getVersion.bind(this),this.stamp=this.stamp.bind(this),this.parseStamp=this.parseStamp.bind(this),this}},u=c;u.default=c;return y($);})();
'undefined'!=typeof module&&(module.exports=ShortUniqueId.default),'undefined'!=typeof window&&(ShortUniqueId=ShortUniqueId.default);